{"version":3,"file":"static/js/130.cc861b53.chunk.js","mappings":"yaAqOA,EA5NgB,SAAC,GAAwD,IAAD,sBAArDA,EAAqD,EAArDA,KAAMC,EAA+C,EAA/CA,WAAYC,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAClDC,GAAWC,EAAAA,EAAAA,MAEjB,GAA8BC,EAAAA,EAAAA,UAAS,CAAC,GAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAAsCJ,EAAAA,EAAAA,WAAS,GAA/C,eAAOK,EAAP,KAAoBC,EAApB,KAEMC,EAAO,OAAGd,QAAH,IAAGA,OAAH,EAAGA,EAAMe,mBAChBC,EAAQ,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAASG,cACpBC,EAAQ,OAACJ,QAAD,IAACA,GAAAA,EAASK,aAAV,OAEVL,QAFU,IAEVA,OAFU,EAEVA,EAASM,gBAFC,OACVN,QADU,IACVA,OADU,EACVA,EAASG,eAGbI,EAAAA,EAAAA,YAAU,WACRZ,EAAW,CAAEa,MAAOtB,EAAKuB,cAAeC,YAAaxB,EAAKwB,cAC1D,OAAIV,QAAJ,IAAIA,GAAAA,EAASK,cACXR,IACU,OAAPG,QAAO,IAAPA,OAAA,EAAAA,EAASG,gBAAT,OAAyBH,QAAzB,IAAyBA,OAAzB,EAAyBA,EAASM,mBAAnC,OACEpB,QADF,IACEA,OADF,EACEA,EAAMuB,eAGb,GAAE,CAACvB,IAiCJ,OACE,UAACyB,EAAA,EAAD,CACEC,GAAI,CACFC,WAAY,UACZC,UAAW,kCACXC,aAAc,MACdC,GAAI,CAAEC,GAAI,EAAGC,GAAI,GACjBC,QAAS,OACTC,WAAY,SACZC,OAAQ,CAAEJ,GAAI,IAAKC,GAAI,KACvBI,SAAU,UAEZC,UAAU,UACVC,GAAI9B,EAAQgB,YACZe,KAAM7B,EAbR,WAeE,SAAC,KAAD,CAAM8B,GAAE,0BAAcxC,QAAd,IAAcA,GAAd,UAAcA,EAAMyC,eAApB,aAAc,EAAeH,IAArC,SACG,OAACxB,QAAD,IAACA,GAAD,UAACA,EAAS4B,OAAO,UAAjB,OAAC,EAAoBC,OAiBpB,SAAClB,EAAA,EAAD,CACEmB,UAAU,MACVC,IAAG,OAAE/B,QAAF,IAAEA,GAAF,UAAEA,EAAS4B,OAAO,UAAlB,aAAE,EAAoBC,MACzBjB,GAAI,CACFS,OAAQ,OACRW,UAAW,aACXC,MAAO,CAAEhB,GAAI,IAAKC,GAAI,UAExBgB,IAAI,MAxBN,UAACvB,EAAA,EAAD,CACEmB,UAAU,MACVG,MAAO,CAAEhB,GAAI,IAAKC,GAAI,SACtBG,OAAQ,OACRc,UAAU,OACVC,MAAM,6BACN,YAAU,UACVC,QAAQ,YACRC,EAAE,MACFC,EAAE,MATJ,WAWE,yCACA,iBAAMC,EAAE,seACR,mBAAQC,GAAG,KAAKC,GAAG,KAAKC,EAAE,YAgBhC,UAAChC,EAAA,EAAD,CAAKiC,EAAE,SAASX,MAAO,CAAEhB,GAAI,MAAOC,GAAI,OAAxC,WACE,UAACP,EAAA,EAAD,CAAKQ,QAAQ,OAAOC,WAAW,SAASyB,eAAe,gBAAvD,WACE,SAAC,KAAD,CAAMnB,GAAE,0BAAcxC,QAAd,IAAcA,GAAd,UAAcA,EAAMyC,eAApB,aAAc,EAAeH,IAAMsB,MAAO,CAAEb,MAAO,QAA3D,UACE,SAACc,EAAA,EAAD,CACE/C,QAAQ,QACRY,GAAI,CACFoC,eAAgB,YAChBC,aAAc,WACd3B,SAAU,SACV4B,WAAY,SACZjB,MAAO,OAPX,gBAUG/C,QAVH,IAUGA,GAVH,UAUGA,EAAMyC,eAVT,aAUG,EAAewB,WAGpB,SAACC,EAAA,EAAD,CACE,aAAW,SACXC,QAAS,WAAO,IAAD,EACblE,EAAW,CACTmE,IAAK5D,EAAQgB,YACbc,GAAE,OAAEtC,QAAF,IAAEA,GAAF,UAAEA,EAAMyC,eAAR,aAAE,EAAeH,KAErBpC,GAAQ,EACT,EARH,UAUE,SAAC,IAAD,CACEmE,KAAK,QACLC,MAAM,iBACNC,SAAU,WAIhB,UAACV,EAAA,EAAD,CACE/C,QAAQ,QACRwD,MAAM,YACN5C,GAAI,CACFoC,eAAgB,YAChBC,aAAc,WACd3B,SAAU,SACVH,QAAS,cACTuC,gBAAiB,EACjBC,gBAAiB,WACjBC,SAAU,cAVd,iBAaG1E,QAbH,IAaGA,GAbH,UAaGA,EAAMyC,eAbT,aAaG,EAAekC,YAAa,QAEvB,OAAP7D,QAAO,IAAPA,GAAA,UAAAA,EAAS8D,kBAAT,eAAqBX,SACpB,UAACJ,EAAA,EAAD,CACE/C,QAAQ,QACRY,GAAI,CACFmD,GAAI,EAEJf,eAAgB,YAChBC,aAAc,WACd3B,SAAU,SACVH,QAAS,cACTuC,gBAAiB,EACjBC,gBAAiB,WACjBC,SAAU,cAXd,oDAcU,8BAAI5D,QAAJ,IAAIA,GAAJ,UAAIA,EAAS8D,kBAAb,aAAI,EAAqBX,YAIrC,UAACxC,EAAA,EAAD,CAAKQ,QAAQ,OAAOC,WAAW,SAA/B,WACE,SAACgC,EAAA,EAAD,CAAYC,QArIF,WACZ3D,EAAQc,MAAQ,IAElBnB,EAAWC,EAAUc,GACrBT,EAAW,CACTa,MAAOd,EAAQc,MAAQ,EACvBE,YAAahB,EAAQgB,YAAcN,IAErC,OAAIJ,QAAJ,IAAIA,GAAAA,EAASK,cACXR,EAAQD,IAAe,OAAPI,QAAO,IAAPA,OAAA,EAAAA,EAASG,gBAAT,OAAyBH,QAAzB,IAAyBA,OAAzB,EAAyBA,EAASM,mBACpDf,GAASyE,EAAAA,EAAAA,IAAW9E,EAAKsC,GAAI,CAAEf,cAAef,EAAQc,MAAQ,KAEjE,EAyHuC,aAAW,SAA3C,UACE,SAAC,KAAD,CAAWyB,MAAO,QAEpB,SAACc,EAAA,EAAD,CAAY/C,QAAQ,QAAQiE,GAAI,EAAGC,GAAI,EAAvC,SACGxE,EAAQc,SAEX,SAAC2D,EAAA,EAAD,CACEC,YAAa,CACXC,eAAe,GAEjBlB,MAAM,kJACNmB,UAAU,YACVC,QAnIiB,WACzBxE,GAAe,EAChB,EAkISyE,KAAM1E,EAPR,UASE,SAACsD,EAAA,EAAD,CAAYC,QAjKP,WAEbhE,EAAWoF,SAASnF,GAAWc,GAC/BT,EAAW,CACTa,MAAOd,EAAQc,MAAQ,EACvBE,YAAahB,EAAQgB,YAAcN,IAErC,OAAIJ,QAAJ,IAAIA,GAAAA,EAASK,cACXR,EAAQD,IAAe,OAAPI,QAAO,IAAPA,OAAA,EAAAA,EAASG,gBAAT,OAAyBH,QAAzB,IAAyBA,OAAzB,EAAyBA,EAASM,mBACpDf,GAASyE,EAAAA,EAAAA,IAAW9E,EAAKsC,GAAI,CAAEf,cAAef,EAAQc,MAAQ,KAE1Dd,EAAQc,QAAUR,EAAQ0E,cAAc3E,GAAe,EAC5D,EAqJsC,aAAW,MAAxC,UACE,SAAC,KAAD,CAAUkC,MAAO,aAIvB,UAACtB,EAAA,EAAD,CAAKoD,GAAI,EAAG/C,GAAI,EAAGG,QAAQ,OAAOC,WAAW,WAA7C,WACE,UAAC2B,EAAA,EAAD,CAAY/C,QAAQ,QAAQ2E,WAAW,OAAOT,GAAI,EAAlD,uCACS9D,EADT,WACiBJ,QADjB,IACiBA,GADjB,UACiBA,EAAS4E,qBAD1B,aACiB,EAAwBC,aAEjC,OAAP7E,QAAO,IAAPA,OAAA,EAAAA,EAASK,gBACR,UAAC0C,EAAA,EAAD,CACEU,SAAS,OACTkB,WAAW,MACXnB,MAAM,YACNN,WAAW,SACXtC,GAAI,CACFoC,eAAgB,gBANpB,UASG9C,EATH,WAScF,QATd,IAScA,GATd,UAScA,EAAS4E,qBATvB,aASc,EAAwBC,gBAI1C,UAAClE,EAAA,EAAD,CAAKQ,QAAQ,OAAO0B,eAAe,gBAAnC,WACE,SAACE,EAAA,EAAD,CAAY/C,QAAQ,QAAQ2E,WAAW,MAAvC,uEAGA,UAAC5B,EAAA,EAAD,CAAY/C,QAAQ,QAAQ2E,WAAW,MAAvC,UACGjF,EAAQgB,YADX,WACyBV,QADzB,IACyBA,GADzB,UACyBA,EAAS4E,qBADlC,aACyB,EAAwBC,oBAM1D,E,kDCpMYC,GACX,UAACnE,EAAA,EAAD,CAAKQ,QAAQ,OAAO4D,cAAc,SAAS3D,WAAW,SAAtD,WACE,gBAAKW,IAAKiD,EAAS9C,IAAI,MACvB,SAACa,EAAA,EAAD,CAAY/C,QAAQ,QAAQ2E,WAAW,MAAMZ,GAAI,EAAG/C,GAAI,EAAxD,UACGiE,EAAAA,EAAAA,GAAE,oBAEL,SAAClC,EAAA,EAAD,CACE/C,QAAQ,QACR2E,WAAW,MACX3D,GAAI,EACJkE,SAAS,QACTC,UAAU,SALZ,UAOGF,EAAAA,EAAAA,GAAE,qBAEL,SAAC,KAAD,CAAMvD,GAAG,WAAW,aAAW,YAA/B,UACE,UAAC0D,EAAA,EAAD,CAAQC,KAAK,SAAS7B,MAAM,UAAUxD,QAAQ,WAA9C,WACGiF,EAAAA,EAAAA,GAAE,iBAAkB,YAuT7B,EAjTa,SAAC,GAAqD,IAAnDA,EAAkD,EAAlDA,EAAGK,EAA+C,EAA/CA,WAAYC,EAAmC,EAAnCA,QAASlG,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAC5CC,GAAWC,EAAAA,EAAAA,MAEXgG,GAAeC,EAAAA,EAAAA,QAAO,MAE5B,GAAwBhG,EAAAA,EAAAA,WAAS,GAAjC,eAAO+E,EAAP,KAAapF,EAAb,KACA,GAA8BK,EAAAA,EAAAA,WAAS,GAAvC,eAAOiG,EAAP,KAAgBC,EAAhB,KACA,GAAoClG,EAAAA,EAAAA,WAAS,GAA7C,eAAOmG,EAAP,KAAmBC,EAAnB,KACA,GAAsBpG,EAAAA,EAAAA,UAAS,IAA/B,eAAO6D,EAAP,KAAYwC,EAAZ,KACA,GAA8BrG,EAAAA,EAAAA,UAAS,IAAvC,eAAOsG,EAAP,KAAgBC,EAAhB,KACA,GAAgCvG,EAAAA,EAAAA,UAAS,IAAzC,eAAOwG,GAAP,KAAiBC,GAAjB,KACA,IAA8BzG,EAAAA,EAAAA,UAAS,IAAvC,iBAAOkC,GAAP,MAAgBxC,GAAhB,MACA,IAA0BM,EAAAA,EAAAA,WAAS,GAAnC,iBAAO0G,GAAP,MAAcC,GAAd,MACA,IAAoB3G,EAAAA,EAAAA,WAAS,GAA7B,iBAAO+B,GAAP,MAAW6E,GAAX,MAEMC,IAAcb,EAAAA,EAAAA,SAAO,GAE3B,IAA+Dc,EAAAA,EAAAA,KAC7D,qBAAGN,QAAH,IADMO,GAAR,GAAQA,UAAWC,GAAnB,GAAmBA,aAAcC,GAAjC,GAAiCA,0BAGjC,IAAmCH,EAAAA,EAAAA,KAAY,qBAAGI,OAAH,IAAvCA,GAAR,GAAQA,QAEAC,IAFR,GAAiBC,eAESN,EAAAA,EAAAA,KAAY,qBAAGO,KAAH,IAA9BF,gBAERrG,EAAAA,EAAAA,YAAU,WACRhB,GAASwH,EAAAA,EAAAA,MACV,GAAE,KAEHxG,EAAAA,EAAAA,YAAU,WACR2F,GAAYc,MAAMC,KAAKC,SAASC,uBAAuB,YACxD,GAAE,CAACV,GAAcD,GAAWE,GAA0BlF,MAEvDjB,EAAAA,EAAAA,YAAU,WACR,GAAIyG,MAAMI,QAAQnB,IAAW,CAC3B,IAAMoB,EAAQpB,GAASqB,QACrB,SAACD,EAAOE,GAAR,OAAmBF,EAAQ5C,SAAS8C,EAAO/F,GAA3C,GACA,GAGFsE,EAAOuB,GACP,IAAMG,EAAYvB,GAASqB,QACzB,SAACD,EAAOE,GAAR,OAAmBF,EAAQ5C,SAAQ,OAAC8C,QAAD,IAACA,OAAD,EAACA,EAAQ9F,KAA5C,GACA,GAEFuE,EAAWwB,EACZ,CACF,GAAE,CAACvB,KAqEJ,OA7CA1F,EAAAA,EAAAA,YAAU,WACJkH,aAAaC,QAAQ,YACvBnI,GAASoI,EAAAA,EAAAA,IAAgBF,aAAaC,QAAQ,aAEhDR,SAAS/D,MAAT,kKACD,GAAE,KASHyE,EAAAA,EAAAA,kBAAgB,WACVtB,GAAYuB,QACdvB,GAAYuB,SAAU,GAKxBvC,GAAW,GAEoB,MAA3BsB,GAAckB,WAChBnC,GAAW,GACXvG,GAAQ,IAkBX,GAAE,CAACwH,MAGF,iCACE,SAAC,IAAD,CACE3B,EAAGA,EACHT,KAAMkB,EACNqC,cAAe3I,EACfA,QAASuG,KAEX,SAACqC,EAAA,EAAD,CACExD,KAAMoB,EACN1G,KAAMyC,GACNA,QAASA,GACTwB,MAAO8B,EAAE,iBACTgD,SAAUhD,EAAE,oBACZ7F,QAASyG,EACTqC,oBAlFsB,SAAC1G,EAAI2G,GAC/B5I,GACE6I,EAAAA,EAAAA,KAAY,OAAD,OACL5B,SADK,IACLA,QADK,EACLA,GAAW6B,QAAO,SAACnJ,GAAD,OAAUA,EAAKyC,QAAQH,KAAOA,CAA9B,OAW1BjC,GAAS+I,EAAAA,EAAAA,IAAsB9G,IAC/BnC,EAAWC,EAAU6I,GAErBI,YAAW,WACTzC,EAAOxC,EAAM6E,EACd,GAAE,IACJ,KAgEG,SAACK,EAAA,EAAD,CACEvD,EAAGA,EACHa,OAAQA,EACRxC,IAAKA,EACLoC,QAASlE,GACTmE,WAAYU,GACZd,SAAO,EACPlG,WAAYA,EACZD,QAASA,EACTE,QAASA,EACTkF,KAAMA,EACNhE,MAAK,OAAEgG,SAAF,IAAEA,QAAF,EAAEA,GAAWhG,MAClBiI,SAAUnF,EACV1D,KAAMmG,EACNT,WAAYA,KAEd,SAACoD,EAAA,EAAD,CACEC,IAAI,wFACJC,MAAOlC,GACPoB,SAAS,MACTe,SAAUC,EAAAA,MAEZ,SAACC,EAAA,UAAD,CACEC,QAAQ,SACRlG,MAAO,CAAEmG,cAAe,IACxBC,YAAY,UACZC,SAAU,CAAEC,OAAQ,CAAEC,QAAS,GAAKC,QAAS,CAAED,QAAS,IACxDE,WAAY,CAAEC,KAAM,UAAWC,SAAU,IAL3C,UAOE,UAACC,EAAA,EAAD,CAAWxE,SAAS,KAAKyE,IAAKnE,EAA9B,WACE,SAACzC,EAAA,EAAD,CACE/C,QAAQ,KACR2E,WAAW,MACXQ,UAAW,CAAElE,GAAI,QAASC,GAAI,UAC9B6C,GAAI,CAAE9C,GAAI,EAAGC,GAAI,GACjBF,GAAI,CAAEC,GAAI,EAAGC,GAAI,GALnB,SAOG+D,EAAE,UAEgB,GAApBuB,GAAUoD,QACT,SAACC,EAAA,EAAD,CACEC,UAAU,QACVC,GAAyB,IAAZ,OAATvD,SAAS,IAATA,QAAA,EAAAA,GAAWoD,QACfI,UAAWxE,EAAaqC,QAH1B,SAKG/C,KAGH,iCACE,SAACmF,EAAA,EAAD,iBACGzD,SADH,IACGA,QADH,EACGA,GACG6B,QAAO,SAACnJ,GAAD,OAAWA,EAAKgL,kBAAhB,IACRC,KAAI,SAACjL,GAAD,OACH,SAACkL,EAAA,EAAD,WACE,SAAC,EAAD,CACElL,KAAMA,EACNG,WAAYA,EACZC,QAASA,EACTF,QAASyG,EACT1G,WAAYA,MANDD,EAAKsC,GADjB,OAYT,UAACb,EAAA,EAAD,CACEsB,MAAM,OACNrB,GAAI,CACF,UAAW,CACTqB,MAAO,OAEP,MAAO,CACLW,EAAG,SAGL,OAAQ,CAAE,eAAgB,CAAEuC,UAAW,UAV7C,WAcE,SAACpC,EAAA,EAAD,CACE/C,QAAQ,QACR+D,GAAI,CAAE9C,GAAI,EAAGC,GAAI,GACjBF,GAAI,CAAEC,GAAI,EAAGC,GAAI,GACjByD,WAAW,MAJb,SAMGM,EAAE,sBAEL,8BACE,2BACE,yBACE,SAAClC,EAAA,EAAD,CAAY/C,QAAQ,QAAQ2E,WAAW,MAAvC,4DAKF,yBACE,SAAC5B,EAAA,EAAD,CAAY/C,QAAQ,QAApB,gBACGwG,SADH,IACGA,QADH,EACGA,GAAWoD,eAIlB,2BACE,yBACE,SAAC7G,EAAA,EAAD,CAAY/C,QAAQ,QAAQ2E,WAAW,MAAvC,sDAIF,yBACE,SAAC5B,EAAA,EAAD,CAAY/C,QAAQ,QAApB,SAA6B+F,UAGjC,2BACE,yBACE,UAAChD,EAAA,EAAD,CAAY/C,QAAQ,QAAQ2E,WAAW,MAAvC,UACGM,EAAE,SADL,IACgBA,EAAE,SADlB,UAIF,yBACE,SAAClC,EAAA,EAAD,CAAY/C,QAAQ,QAAQ2E,WAAW,MAAvC,SACGrB,aAKT,SAAC8B,EAAA,EAAD,CACEC,KAAK,SACLgF,SAAU9E,EACV3E,GAAI,CACFO,QAAS,QACTmJ,EAAG,CAAErJ,GAAI,WAAYC,GAAI,eACzBe,MAAO,CAAEhB,GAAI,OAAQC,GAAI,gBAE3BmC,QAAS,WACHsD,GAAQ4D,YACsB,UAA5B5D,GAAQ6D,gBAA6BpL,GAAQ,IAE/CkG,GAAW,GACX/F,GACEkL,EAAAA,EAAAA,IAAY,CAEVxE,SAAQ,OAAEO,SAAF,IAAEA,QAAF,EAAEA,GAAW2D,KAAI,SAACjL,GAAD,MAAW,CAClCwL,WAAYxL,EAAKe,mBAAmBuB,GACpCf,cAAevB,EAAKuB,cAFG,QAO1B2F,IAAS,EACjB,EACD5C,MAAM,UACNxD,QAAQ,YA1BV,SA4BGiF,EAAE,sBAKX,SAAC0F,EAAA,EAAD,CACEC,oBAAqBC,EACrBrG,KAAM2B,GACN2E,iBAAkB,IAClBC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7C1G,QAAS,kBAAM6B,IAAS,EAAf,EALX,UAOE,UAAC8E,EAAA,EAAD,CAAOpD,SAAS,QAAQ9H,QAAQ,SAAhC,wGACmB,gBAO9B,EAID,SAAS6K,EAAgBM,GACvB,OAAO,SAACtB,EAAA,GAAD,kBAAWsB,GAAX,IAAkBrB,UAAU,SACpC,C","sources":["pages/Dashboard/Cart/Product.jsx","pages/Dashboard/Cart/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Box } from \"@mui/system\";\nimport { IconButton, Tooltip, Typography } from \"@mui/material\";\nimport { MinusIcon, PlusIcon } from \"../../../assets/images/icons\";\nimport { changeCart } from \"../../../redux/reducers/products\";\nimport { Link } from \"react-router-dom\";\n\nconst Product = ({ item, setProduct, setOpen, setCartSum, cartSum }) => {\n  const dispatch = useDispatch();\n\n  const [changed, setChanged] = useState({});\n  const [sale, setSale] = useState(0);\n  const [openTooltip, setOpenTooltip] = useState(false);\n\n  const variant = item?.product_variations;\n  const newPrice = variant?.product_price;\n  const price = !variant?.is_promotion\n    ? variant?.product_price\n    : variant?.promotion_price;\n\n  useEffect(() => {\n    setChanged({ count: item.product_count, product_sum: item.product_sum });\n    if (variant?.is_promotion)\n      setSale(\n        (variant?.product_price - variant?.promotion_price) *\n          item?.product_count\n      );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [item]);\n\n  const addOne = () => {\n    // if (changed.count < variant?.color_amount) {\n    setCartSum(parseInt(cartSum) + price);\n    setChanged({\n      count: changed.count + 1,\n      product_sum: changed.product_sum + price,\n    });\n    if (variant?.is_promotion)\n      setSale(sale + (variant?.product_price - variant?.promotion_price));\n    dispatch(changeCart(item.id, { product_count: changed.count + 1 }));\n    // }\n    if (changed.count === variant.color_amount) setOpenTooltip(true);\n  };\n  const removeOne = () => {\n    if (changed.count > 1) {\n      // && changed.count > variant?.min_sale_amount\n      setCartSum(cartSum - price);\n      setChanged({\n        count: changed.count - 1,\n        product_sum: changed.product_sum - price,\n      });\n      if (variant?.is_promotion)\n        setSale(sale - (variant?.product_price - variant?.promotion_price));\n      dispatch(changeCart(item.id, { product_count: changed.count - 1 }));\n    }\n  };\n\n  const handleTooltipClose = () => {\n    setOpenTooltip(false);\n  };\n\n  return (\n    <Box\n      sx={{\n        background: \"#FFFFFF\",\n        boxShadow: \"0px 4px 8px rgba(0, 0, 0, 0.15)\",\n        borderRadius: \"8px\",\n        mb: { xs: 2, md: 8 },\n        display: \"flex\",\n        alignItems: \"center\",\n        height: { xs: 152, md: 170 },\n        overflow: \"hidden\",\n      }}\n      className=\"product\"\n      id={changed.product_sum}\n      lang={sale}\n    >\n      <Link to={`/details/${item?.product?.id}`}>\n        {!variant?.images[0]?.image ? (\n          <Box\n            component=\"svg\"\n            width={{ xs: 111, md: \"285px\" }}\n            height={'100%'}\n            maxHeight=\"78px\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            data-name=\"Layer 1\"\n            viewBox=\"0 0 32 40\"\n            x=\"0px\"\n            y=\"0px\"\n          >\n            <title>No Image</title>\n            <path d=\"M29.24,18.76A6,6,0,0,0,27,17.35V7a3,3,0,0,0-3-3H4A3,3,0,0,0,1,7V21a3,3,0,0,0,.27,1.23l0,0A3,3,0,0,0,4,24H19.09a6,6,0,1,0,10.15-5.24ZM21.56,25A4,4,0,0,1,27,19.56Zm-3.08-3L16,18.89l3-2.57,2.3,2a6.08,6.08,0,0,0-.54.47A6,6,0,0,0,19.09,22ZM4,6H24a1,1,0,0,1,1,1V17a6,6,0,0,0-1.81.28l-3.54-3a1,1,0,0,0-1.3,0l-3.61,3.09-4-5A1,1,0,0,0,10,12a1,1,0,0,0-.77.34L3,19.39V7A1,1,0,0,1,4,6ZM3.5,21.84,10,14.55l6,7.45H4A1,1,0,0,1,3.5,21.84Zm24.33,4a4.1,4.1,0,0,1-4.84.6L28.44,21a4,4,0,0,1-.61,4.85Z\" />\n            <circle cx=\"16\" cy=\"10\" r=\"2\" />\n          </Box>\n        ) : (\n          <Box\n            component=\"img\"\n            src={variant?.images[0]?.image}\n            sx={{\n              height: \"100%\",\n              objectFit: \"scale-down\",\n              width: { xs: 111, md: \"285px\" },\n            }}\n            alt=\"\"\n          />\n        )}\n      </Link>\n\n      <Box p=\"0 16px\" width={{ xs: \"75%\", md: \"87%\" }}>\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n          <Link to={`/details/${item?.product?.id}`} style={{ width: \"100%\" }}>\n            <Typography\n              variant=\"body2\"\n              sx={{\n                textDecoration: \"underline\",\n                textOverflow: \"ellipsis\",\n                overflow: \"hidden\",\n                whiteSpace: \"nowrap\",\n                width: \"70%\",\n              }}\n            >\n              {item?.product?.title}\n            </Typography>\n          </Link>\n          <IconButton\n            aria-label=\"delete\"\n            onClick={() => {\n              setProduct({\n                sum: changed.product_sum,\n                id: item?.product?.id,\n              });\n              setOpen(true);\n            }}\n          >\n            <FontAwesomeIcon\n              icon=\"trash\"\n              color=\"var(--primary)\"\n              fontSize={16}\n            />\n          </IconButton>\n        </Box>\n        <Typography\n          variant=\"body2\"\n          color=\"#00000050\"\n          sx={{\n            textDecoration: \"underline\",\n            textOverflow: \"ellipsis\",\n            overflow: \"hidden\",\n            display: \"-webkit-box\",\n            WebkitLineClamp: 1,\n            WebkitBoxOrient: \"vertical\",\n            wordWrap: \"break-word\",\n          }}\n        >\n          {item?.product?.description}{\" \"}\n        </Typography>\n        {variant?.color_size?.title && (\n          <Typography\n            variant=\"body2\"\n            sx={{\n              mt: 1,\n              // mb: 0.5,\n              textDecoration: \"underline\",\n              textOverflow: \"ellipsis\",\n              overflow: \"hidden\",\n              display: \"-webkit-box\",\n              WebkitLineClamp: 1,\n              WebkitBoxOrient: \"vertical\",\n              wordWrap: \"break-word\",\n            }}\n          >\n            Размер: <b>{variant?.color_size?.title}</b>\n          </Typography>\n        )}\n\n        <Box display=\"flex\" alignItems=\"center\">\n          <IconButton onClick={removeOne} aria-label=\"remove\">\n            <MinusIcon width={20} />\n          </IconButton>\n          <Typography variant=\"body2\" ml={3} mr={3}>\n            {changed.count}\n          </Typography>\n          <Tooltip\n            PopperProps={{\n              disablePortal: true,\n            }}\n            title=\"На складе больше нет товара.\"\n            placement=\"top-start\"\n            onClose={handleTooltipClose}\n            open={openTooltip}\n          >\n            <IconButton onClick={addOne} aria-label=\"add\">\n              <PlusIcon width={20} />\n            </IconButton>\n          </Tooltip>\n        </Box>\n        <Box mt={1} mb={1} display=\"flex\" alignItems=\"baseline\">\n          <Typography variant=\"body2\" fontWeight=\"bold\" mr={2}>\n            Цена: {price} {variant?.currency_unit?.currency}\n          </Typography>\n          {variant?.is_promotion && (\n            <Typography\n              fontSize=\"12px\"\n              fontWeight=\"500\"\n              color=\"#1E1E1E50\"\n              whiteSpace=\"nowrap\"\n              sx={{\n                textDecoration: \"line-through\",\n              }}\n            >\n              {newPrice} {variant?.currency_unit?.currency}\n            </Typography>\n          )}\n        </Box>\n        <Box display=\"flex\" justifyContent=\"space-between\">\n          <Typography variant=\"body2\" fontWeight=\"700\">\n            Итого цена:\n          </Typography>\n          <Typography variant=\"body2\" fontWeight=\"700\">\n            {changed.product_sum} {variant?.currency_unit?.currency}\n          </Typography>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Product;\n","/* eslint-disable eqeqeq */\nimport React, { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport {\n  Alert,\n  Button,\n  Collapse,\n  Slide,\n  Snackbar,\n  Typography,\n} from \"@mui/material\";\nimport { Box, Container } from \"@mui/system\";\nimport { TransitionGroup } from \"react-transition-group\";\nimport noneRes from \"../../../assets/images/none-res.png\";\nimport Order, { SuccessDialog } from \"./Order\";\nimport {\n  deleteProductFromCart,\n  getCartList,\n  setCartList,\n  setDeletedProductFromCart,\n} from \"../../../redux/reducers/products\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SnackBar from \"../../../components/SnackBar\";\n// import { setCartSum } from \"../../../redux/reducers/main\";\nimport { Link } from \"react-router-dom\";\nimport Product from \"./Product\";\nimport Dialogs from \"../../../components/Dialog\";\nimport { t } from \"i18next\";\nimport { motion } from \"framer-motion\";\nimport { getOrderDetails } from \"../../../redux/reducers/profile\";\nimport { createOrder } from \"../../../redux/reducers/order\";\n\nexport const noneResults = (\n  <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n    <img src={noneRes} alt=\"\" />\n    <Typography variant=\"body1\" fontWeight=\"700\" mt={2} mb={2}>\n      {t(\"nothingInCart\")}\n    </Typography>\n    <Typography\n      variant=\"body2\"\n      fontWeight=\"300\"\n      mb={2}\n      maxWidth=\"254px\"\n      textAlign=\"center\"\n    >\n      {t(\"watchInCalalog\")}\n    </Typography>\n    <Link to=\"/catalog\" aria-label=\"read more\">\n      <Button size=\"medium\" color=\"primary\" variant=\"outlined\">\n        {t(\"fintInCatalog\")}{\" \"}\n      </Button>\n    </Link>\n  </Box>\n);\n\nconst Cart = ({ t, setLoading, loading, setCartSum, cartSum }) => {\n  const dispatch = useDispatch();\n\n  const containerRef = useRef(null);\n\n  const [open, setOpen] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [openDelete, setOpenDelete] = useState(false);\n  const [sum, setSum] = useState(\"\");\n  const [saleSum, setSaleSum] = useState(\"\");\n  const [products, setProducts] = useState(\"\");\n  const [product, setProduct] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [id, setId] = useState(false);\n\n  const firstUpdate = useRef(true);\n\n  const { cart_list, updated_cart, deleted_product_from_cart } = useSelector(\n    ({ products }) => products\n  );\n  const { profile, order_details } = useSelector(({ profile }) => profile);\n\n  const { created_order } = useSelector(({ order }) => order);\n\n  useEffect(() => {\n    dispatch(getCartList());\n  }, []);\n\n  useEffect(() => {\n    setProducts(Array.from(document.getElementsByClassName(\"product\")));\n  }, [updated_cart, cart_list, deleted_product_from_cart.id]);\n\n  useEffect(() => {\n    if (Array.isArray(products)) {\n      const total = products.reduce(\n        (total, amount) => total + parseInt(amount.id),\n        0\n      );\n  \n      setSum(total);\n      const totalSale = products.reduce(\n        (total, amount) => total + parseInt(amount?.lang),\n        0\n      );\n      setSaleSum(totalSale);\n    }\n  }, [products]);\n\n  const handleRemoveProduct = (id, summ) => {\n    dispatch(\n      setCartList(\n        [...cart_list?.filter((item) => item.product.id !== id)]\n        // ...cart_list,\n        // count: cart_list?.len - 1,\n        // results: [\n        // {\n        //   total_products_sum:\n        //     cart_list[cart_list?.length - 1]?.total_products_sum - summ,\n        // },\n        // ],\n      )\n    );\n    dispatch(deleteProductFromCart(id));\n    setCartSum(cartSum - summ);\n\n    setTimeout(() => {\n      setSum(sum - summ);\n    }, 1000);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"orderId\"))\n      dispatch(getOrderDetails(localStorage.getItem(\"orderId\")));\n\n    document.title = `Корзина на Электроника сервис `;\n  }, []);\n\n  // useEffect(() => {\n  //   if (order_details.ordering_payment_status === \"Успешно\") {\n  //     setCartSum(0);\n  //     localStorage.removeItem(\"orderId\");\n  //   }\n  // }, [order_details]);\n\n  useLayoutEffect(() => {\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n\n    // hide linear progress\n    setLoading(false);\n\n    if (created_order.severity === 200) {\n      setSuccess(true);\n      setOpen(false);\n      // localStorage.setItem(\"orderId\", created_order.message.order_id);\n      // fetch(\"https://api.opop.asia/payments/result_url/\", {\n      //   method: \"POST\",\n      //   headers: {\n      //     Accept: \"application/json\",\n      //     \"Content-Type\": \"application/json\",\n      //   },\n      //   body: JSON.stringify({ pg_order_id: 1, b: \"Textual content\" }),\n      // })\n      //   .then((response) => {\n      //     return response.json();\n      //   })\n      //   .then((data) => {\n      //     console.log(data);\n      //   });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [created_order]);\n\n  return (\n    <>\n      <SuccessDialog\n        t={t}\n        open={success}\n        setOpenDialog={setOpen}\n        setOpen={setSuccess}\n      />\n      <Dialogs\n        open={openDelete}\n        item={product}\n        product={product}\n        title={t(\"deleteProduct\")}\n        subtitle={t(\"deleteProductTxt\")}\n        setOpen={setOpenDelete}\n        handleRemoveProduct={handleRemoveProduct}\n      />\n      <Order\n        t={t}\n        setSum={setSum}\n        sum={sum}\n        success={id}\n        setSuccess={setId}\n        loading\n        setCartSum={setCartSum}\n        setOpen={setOpen}\n        cartSum={cartSum}\n        open={open}\n        count={cart_list?.count}\n        orderSum={sum}\n        sale={saleSum}\n        setLoading={setLoading}\n      />\n      <SnackBar\n        txt=\"Успешно удалено\"\n        state={deleted_product_from_cart}\n        severity=\"204\"\n        setState={setDeletedProductFromCart}\n      />\n      <motion.section\n        initial=\"hidden\"\n        style={{ paddingBottom: 50 }}\n        whileInView=\"visible\"\n        variants={{ hidden: { opacity: 0 }, visible: { opacity: 1 } }}\n        transition={{ ease: \"easeOut\", duration: 0.1 }}\n      >\n        <Container maxWidth=\"xl\" ref={containerRef}>\n          <Typography\n            variant=\"h3\"\n            fontWeight=\"700\"\n            textAlign={{ xs: \"start\", md: \"center\" }}\n            mt={{ xs: 3, md: 8 }}\n            mb={{ xs: 3, md: 8 }}\n          >\n            {t(\"cart\")}\n          </Typography>\n          {cart_list.length == 0 ? (\n            <Slide\n              direction=\"right\"\n              in={cart_list?.length == 0}\n              container={containerRef.current}\n            >\n              {noneResults}\n            </Slide>\n          ) : (\n            <>\n              <TransitionGroup>\n                {cart_list\n                  ?.filter((item) => !item.total_products_sum)\n                  .map((item) => (\n                    <Collapse key={item.id}>\n                      <Product\n                        item={item}\n                        setCartSum={setCartSum}\n                        cartSum={cartSum}\n                        setOpen={setOpenDelete}\n                        setProduct={setProduct}\n                      />\n                    </Collapse>\n                  ))}\n              </TransitionGroup>\n              <Box\n                width=\"100%\"\n                sx={{\n                  \"& table\": {\n                    width: \"100%\",\n\n                    \"& p\": {\n                      p: \"4px 0\",\n                    },\n\n                    \"& td\": { \"&:last-child\": { textAlign: \"end\" } },\n                  },\n                }}\n              >\n                <Typography\n                  variant=\"body2\"\n                  mt={{ xs: 3, md: 0 }}\n                  mb={{ xs: 1, md: 2 }}\n                  fontWeight=\"700\"\n                >\n                  {t(\"choosenProducts\")}\n                </Typography>\n                <table>\n                  <tr>\n                    <td>\n                      <Typography variant=\"body2\" fontWeight=\"400\">\n                        {/* {t(\"products\")}: */}\n                        Позиций:\n                      </Typography>\n                    </td>\n                    <td>\n                      <Typography variant=\"body2\">\n                        {cart_list?.length}\n                      </Typography>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <Typography variant=\"body2\" fontWeight=\"400\">\n                        Скидка:\n                      </Typography>\n                    </td>\n                    <td>\n                      <Typography variant=\"body2\">{saleSum}</Typography>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <Typography variant=\"body2\" fontWeight=\"700\">\n                        {t(\"total\")} {t(\"price\")}:\n                      </Typography>\n                    </td>\n                    <td>\n                      <Typography variant=\"body2\" fontWeight=\"700\">\n                        {sum}\n                      </Typography>\n                    </td>\n                  </tr>\n                </table>\n                <Button\n                  size=\"medium\"\n                  disabled={loading}\n                  sx={{\n                    display: \"table\",\n                    m: { xs: \"16px 0 0\", md: \"24px auto 0\" },\n                    width: { xs: \"100%\", md: \"fit-content\" },\n                  }}\n                  onClick={() => {\n                    if (profile.level_anket) {\n                      if (profile.business_status === \"agent\") setOpen(true);\n                      else {\n                        setLoading(true);\n                        dispatch(\n                          createOrder({\n                            // questionnaire_id: id,\n                            products: cart_list?.map((item) => ({\n                              product_id: item.product_variations.id,\n                              product_count: item.product_count,\n                            })),\n                          })\n                        );\n                      }\n                    } else setError(true);\n                  }}\n                  color=\"primary\"\n                  variant=\"contained\"\n                >\n                  {t(\"makeOrder\")}\n                </Button>\n              </Box>\n            </>\n          )}\n          <Snackbar\n            TransitionComponent={SlideTransition}\n            open={error}\n            autoHideDuration={3000}\n            anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n            onClose={() => setError(false)}\n          >\n            <Alert severity=\"error\" variant=\"filled\">\n              Заполните анкету{\" \"}\n            </Alert>\n          </Snackbar>\n        </Container>\n      </motion.section>\n    </>\n  );\n};\n\nexport default Cart;\n\nfunction SlideTransition(props) {\n  return <Slide {...props} direction=\"down\" />;\n}\n"],"names":["item","setProduct","setOpen","setCartSum","cartSum","dispatch","useDispatch","useState","changed","setChanged","sale","setSale","openTooltip","setOpenTooltip","variant","product_variations","newPrice","product_price","price","is_promotion","promotion_price","useEffect","count","product_count","product_sum","Box","sx","background","boxShadow","borderRadius","mb","xs","md","display","alignItems","height","overflow","className","id","lang","to","product","images","image","component","src","objectFit","width","alt","maxHeight","xmlns","viewBox","x","y","d","cx","cy","r","p","justifyContent","style","Typography","textDecoration","textOverflow","whiteSpace","title","IconButton","onClick","sum","icon","color","fontSize","WebkitLineClamp","WebkitBoxOrient","wordWrap","description","color_size","mt","changeCart","ml","mr","Tooltip","PopperProps","disablePortal","placement","onClose","open","parseInt","color_amount","fontWeight","currency_unit","currency","noneResults","flexDirection","noneRes","t","maxWidth","textAlign","Button","size","setLoading","loading","containerRef","useRef","success","setSuccess","openDelete","setOpenDelete","setSum","saleSum","setSaleSum","products","setProducts","error","setError","setId","firstUpdate","useSelector","cart_list","updated_cart","deleted_product_from_cart","profile","created_order","order_details","order","getCartList","Array","from","document","getElementsByClassName","isArray","total","reduce","amount","totalSale","localStorage","getItem","getOrderDetails","useLayoutEffect","current","severity","setOpenDialog","Dialog","subtitle","handleRemoveProduct","summ","setCartList","filter","deleteProductFromCart","setTimeout","Order","orderSum","SnackBar","txt","state","setState","setDeletedProductFromCart","motion","initial","paddingBottom","whileInView","variants","hidden","opacity","visible","transition","ease","duration","Container","ref","length","Slide","direction","in","container","TransitionGroup","total_products_sum","map","Collapse","disabled","m","level_anket","business_status","createOrder","product_id","Snackbar","TransitionComponent","SlideTransition","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","props"],"sourceRoot":""}