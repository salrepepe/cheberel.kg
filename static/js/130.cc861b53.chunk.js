"use strict";(self.webpackChunkcheberel=self.webpackChunkcheberel||[]).push([[130],{6130:function(t,e,i){i.r(e),i.d(e,{default:function(){return L},noneResults:function(){return F}});var n=i(1413),o=i(3433),r=i(9439),d=i(2791),l=i(890),s=i(6151),c=i(5931),a=i(6125),u=i(5646),p=i(9658),x=i(9276),v=i(6598),h=i(5660),m=i(8487),f=i(7380),j=i(3567),Z=i(9434),g=i(3654),b=i(3504),y=i(1363),_=i(3400),w=i(9072),S=i(1625),C=i(184),k=function(t){var e,i,n,o,s,c,a,u,p,v,h,m=t.item,f=t.setProduct,g=t.setOpen,k=t.setCartSum,W=t.cartSum,I=(0,Z.I0)(),A=(0,d.useState)({}),O=(0,r.Z)(A,2),E=O[0],F=O[1],L=(0,d.useState)(0),P=(0,r.Z)(L,2),z=P[0],D=P[1],V=(0,d.useState)(!1),H=(0,r.Z)(V,2),B=H[0],R=H[1],M=null===m||void 0===m?void 0:m.product_variations,U=null===M||void 0===M?void 0:M.product_price,N=null!==M&&void 0!==M&&M.is_promotion?null===M||void 0===M?void 0:M.promotion_price:null===M||void 0===M?void 0:M.product_price;(0,d.useEffect)((function(){F({count:m.product_count,product_sum:m.product_sum}),null!==M&&void 0!==M&&M.is_promotion&&D(((null===M||void 0===M?void 0:M.product_price)-(null===M||void 0===M?void 0:M.promotion_price))*(null===m||void 0===m?void 0:m.product_count))}),[m]);return(0,C.jsxs)(x.Z,{sx:{background:"#FFFFFF",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.15)",borderRadius:"8px",mb:{xs:2,md:8},display:"flex",alignItems:"center",height:{xs:152,md:170},overflow:"hidden"},className:"product",id:E.product_sum,lang:z,children:[(0,C.jsx)(b.rU,{to:"/details/".concat(null===m||void 0===m||null===(e=m.product)||void 0===e?void 0:e.id),children:null!==M&&void 0!==M&&null!==(i=M.images[0])&&void 0!==i&&i.image?(0,C.jsx)(x.Z,{component:"img",src:null===M||void 0===M||null===(n=M.images[0])||void 0===n?void 0:n.image,sx:{height:"100%",objectFit:"scale-down",width:{xs:111,md:"285px"}},alt:""}):(0,C.jsxs)(x.Z,{component:"svg",width:{xs:111,md:"285px"},height:"100%",maxHeight:"78px",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 32 40",x:"0px",y:"0px",children:[(0,C.jsx)("title",{children:"No Image"}),(0,C.jsx)("path",{d:"M29.24,18.76A6,6,0,0,0,27,17.35V7a3,3,0,0,0-3-3H4A3,3,0,0,0,1,7V21a3,3,0,0,0,.27,1.23l0,0A3,3,0,0,0,4,24H19.09a6,6,0,1,0,10.15-5.24ZM21.56,25A4,4,0,0,1,27,19.56Zm-3.08-3L16,18.89l3-2.57,2.3,2a6.08,6.08,0,0,0-.54.47A6,6,0,0,0,19.09,22ZM4,6H24a1,1,0,0,1,1,1V17a6,6,0,0,0-1.81.28l-3.54-3a1,1,0,0,0-1.3,0l-3.61,3.09-4-5A1,1,0,0,0,10,12a1,1,0,0,0-.77.34L3,19.39V7A1,1,0,0,1,4,6ZM3.5,21.84,10,14.55l6,7.45H4A1,1,0,0,1,3.5,21.84Zm24.33,4a4.1,4.1,0,0,1-4.84.6L28.44,21a4,4,0,0,1-.61,4.85Z"}),(0,C.jsx)("circle",{cx:"16",cy:"10",r:"2"})]})}),(0,C.jsxs)(x.Z,{p:"0 16px",width:{xs:"75%",md:"87%"},children:[(0,C.jsxs)(x.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsx)(b.rU,{to:"/details/".concat(null===m||void 0===m||null===(o=m.product)||void 0===o?void 0:o.id),style:{width:"100%"},children:(0,C.jsx)(l.Z,{variant:"body2",sx:{textDecoration:"underline",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"70%"},children:null===m||void 0===m||null===(s=m.product)||void 0===s?void 0:s.title})}),(0,C.jsx)(_.Z,{"aria-label":"delete",onClick:function(){var t;f({sum:E.product_sum,id:null===m||void 0===m||null===(t=m.product)||void 0===t?void 0:t.id}),g(!0)},children:(0,C.jsx)(y.G,{icon:"trash",color:"var(--primary)",fontSize:16})})]}),(0,C.jsxs)(l.Z,{variant:"body2",color:"#00000050",sx:{textDecoration:"underline",textOverflow:"ellipsis",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",wordWrap:"break-word"},children:[null===m||void 0===m||null===(c=m.product)||void 0===c?void 0:c.description," "]}),(null===M||void 0===M||null===(a=M.color_size)||void 0===a?void 0:a.title)&&(0,C.jsxs)(l.Z,{variant:"body2",sx:{mt:1,textDecoration:"underline",textOverflow:"ellipsis",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",wordWrap:"break-word"},children:["\u0420\u0430\u0437\u043c\u0435\u0440: ",(0,C.jsx)("b",{children:null===M||void 0===M||null===(u=M.color_size)||void 0===u?void 0:u.title})]}),(0,C.jsxs)(x.Z,{display:"flex",alignItems:"center",children:[(0,C.jsx)(_.Z,{onClick:function(){E.count>1&&(k(W-N),F({count:E.count-1,product_sum:E.product_sum-N}),null!==M&&void 0!==M&&M.is_promotion&&D(z-((null===M||void 0===M?void 0:M.product_price)-(null===M||void 0===M?void 0:M.promotion_price))),I((0,j.Ad)(m.id,{product_count:E.count-1})))},"aria-label":"remove",children:(0,C.jsx)(S.V_,{width:20})}),(0,C.jsx)(l.Z,{variant:"body2",ml:3,mr:3,children:E.count}),(0,C.jsx)(w.Z,{PopperProps:{disablePortal:!0},title:"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u0430.",placement:"top-start",onClose:function(){R(!1)},open:B,children:(0,C.jsx)(_.Z,{onClick:function(){k(parseInt(W)+N),F({count:E.count+1,product_sum:E.product_sum+N}),null!==M&&void 0!==M&&M.is_promotion&&D(z+((null===M||void 0===M?void 0:M.product_price)-(null===M||void 0===M?void 0:M.promotion_price))),I((0,j.Ad)(m.id,{product_count:E.count+1})),E.count===M.color_amount&&R(!0)},"aria-label":"add",children:(0,C.jsx)(S.pO,{width:20})})})]}),(0,C.jsxs)(x.Z,{mt:1,mb:1,display:"flex",alignItems:"baseline",children:[(0,C.jsxs)(l.Z,{variant:"body2",fontWeight:"bold",mr:2,children:["\u0426\u0435\u043d\u0430: ",N," ",null===M||void 0===M||null===(p=M.currency_unit)||void 0===p?void 0:p.currency]}),(null===M||void 0===M?void 0:M.is_promotion)&&(0,C.jsxs)(l.Z,{fontSize:"12px",fontWeight:"500",color:"#1E1E1E50",whiteSpace:"nowrap",sx:{textDecoration:"line-through"},children:[U," ",null===M||void 0===M||null===(v=M.currency_unit)||void 0===v?void 0:v.currency]})]}),(0,C.jsxs)(x.Z,{display:"flex",justifyContent:"space-between",children:[(0,C.jsx)(l.Z,{variant:"body2",fontWeight:"700",children:"\u0418\u0442\u043e\u0433\u043e \u0446\u0435\u043d\u0430:"}),(0,C.jsxs)(l.Z,{variant:"body2",fontWeight:"700",children:[E.product_sum," ",null===M||void 0===M||null===(h=M.currency_unit)||void 0===h?void 0:h.currency]})]})]})]})},W=i(8848),I=i(8825),A=i(6369),O=i(6163),E=i(3074),F=(0,C.jsxs)(x.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,C.jsx)("img",{src:m,alt:""}),(0,C.jsx)(l.Z,{variant:"body1",fontWeight:"700",mt:2,mb:2,children:(0,I.t)("nothingInCart")}),(0,C.jsx)(l.Z,{variant:"body2",fontWeight:"300",mb:2,maxWidth:"254px",textAlign:"center",children:(0,I.t)("watchInCalalog")}),(0,C.jsx)(b.rU,{to:"/catalog","aria-label":"read more",children:(0,C.jsxs)(s.Z,{size:"medium",color:"primary",variant:"outlined",children:[(0,I.t)("fintInCatalog")," "]})})]}),L=function(t){var e=t.t,i=t.setLoading,n=t.loading,m=t.setCartSum,b=t.cartSum,y=(0,Z.I0)(),_=(0,d.useRef)(null),w=(0,d.useState)(!1),S=(0,r.Z)(w,2),I=S[0],L=S[1],z=(0,d.useState)(!1),D=(0,r.Z)(z,2),V=D[0],H=D[1],B=(0,d.useState)(!1),R=(0,r.Z)(B,2),M=R[0],U=R[1],N=(0,d.useState)(""),T=(0,r.Z)(N,2),G=T[0],$=T[1],q=(0,d.useState)(""),J=(0,r.Z)(q,2),K=J[0],Q=J[1],X=(0,d.useState)(""),Y=(0,r.Z)(X,2),tt=Y[0],et=Y[1],it=(0,d.useState)(""),nt=(0,r.Z)(it,2),ot=nt[0],rt=nt[1],dt=(0,d.useState)(!1),lt=(0,r.Z)(dt,2),st=lt[0],ct=lt[1],at=(0,d.useState)(!1),ut=(0,r.Z)(at,2),pt=ut[0],xt=ut[1],vt=(0,d.useRef)(!0),ht=(0,Z.v9)((function(t){return t.products})),mt=ht.cart_list,ft=ht.updated_cart,jt=ht.deleted_product_from_cart,Zt=(0,Z.v9)((function(t){return t.profile})),gt=Zt.profile,bt=(Zt.order_details,(0,Z.v9)((function(t){return t.order})).created_order);(0,d.useEffect)((function(){y((0,j._G)())}),[]),(0,d.useEffect)((function(){et(Array.from(document.getElementsByClassName("product")))}),[ft,mt,jt.id]),(0,d.useEffect)((function(){if(Array.isArray(tt)){var t=tt.reduce((function(t,e){return t+parseInt(e.id)}),0);$(t);var e=tt.reduce((function(t,e){return t+parseInt(null===e||void 0===e?void 0:e.lang)}),0);Q(e)}}),[tt]);return(0,d.useEffect)((function(){localStorage.getItem("orderId")&&y((0,O.s$)(localStorage.getItem("orderId"))),document.title="\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043d\u0430 \u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u0438\u043a\u0430 \u0441\u0435\u0440\u0432\u0438\u0441 "}),[]),(0,d.useLayoutEffect)((function(){vt.current?vt.current=!1:(i(!1),200===bt.severity&&(H(!0),L(!1)))}),[bt]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(f.F,{t:e,open:V,setOpenDialog:L,setOpen:H}),(0,C.jsx)(W.Z,{open:M,item:ot,product:ot,title:e("deleteProduct"),subtitle:e("deleteProductTxt"),setOpen:U,handleRemoveProduct:function(t,e){y((0,j.kc)((0,o.Z)(null===mt||void 0===mt?void 0:mt.filter((function(e){return e.product.id!==t}))))),y((0,j.x$)(t)),m(b-e),setTimeout((function(){$(G-e)}),1e3)}}),(0,C.jsx)(f.Z,{t:e,setSum:$,sum:G,success:pt,setSuccess:xt,loading:!0,setCartSum:m,setOpen:L,cartSum:b,open:I,count:null===mt||void 0===mt?void 0:mt.count,orderSum:G,sale:K,setLoading:i}),(0,C.jsx)(g.Z,{txt:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e",state:jt,severity:"204",setState:j.UE}),(0,C.jsx)(A.E.section,{initial:"hidden",style:{paddingBottom:50},whileInView:"visible",variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{ease:"easeOut",duration:.1},children:(0,C.jsxs)(v.Z,{maxWidth:"xl",ref:_,children:[(0,C.jsx)(l.Z,{variant:"h3",fontWeight:"700",textAlign:{xs:"start",md:"center"},mt:{xs:3,md:8},mb:{xs:3,md:8},children:e("cart")}),0==mt.length?(0,C.jsx)(c.Z,{direction:"right",in:0==(null===mt||void 0===mt?void 0:mt.length),container:_.current,children:F}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(h.Z,{children:null===mt||void 0===mt?void 0:mt.filter((function(t){return!t.total_products_sum})).map((function(t){return(0,C.jsx)(a.Z,{children:(0,C.jsx)(k,{item:t,setCartSum:m,cartSum:b,setOpen:U,setProduct:rt})},t.id)}))}),(0,C.jsxs)(x.Z,{width:"100%",sx:{"& table":{width:"100%","& p":{p:"4px 0"},"& td":{"&:last-child":{textAlign:"end"}}}},children:[(0,C.jsx)(l.Z,{variant:"body2",mt:{xs:3,md:0},mb:{xs:1,md:2},fontWeight:"700",children:e("choosenProducts")}),(0,C.jsxs)("table",{children:[(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:(0,C.jsx)(l.Z,{variant:"body2",fontWeight:"400",children:"\u041f\u043e\u0437\u0438\u0446\u0438\u0439:"})}),(0,C.jsx)("td",{children:(0,C.jsx)(l.Z,{variant:"body2",children:null===mt||void 0===mt?void 0:mt.length})})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:(0,C.jsx)(l.Z,{variant:"body2",fontWeight:"400",children:"\u0421\u043a\u0438\u0434\u043a\u0430:"})}),(0,C.jsx)("td",{children:(0,C.jsx)(l.Z,{variant:"body2",children:K})})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:(0,C.jsxs)(l.Z,{variant:"body2",fontWeight:"700",children:[e("total")," ",e("price"),":"]})}),(0,C.jsx)("td",{children:(0,C.jsx)(l.Z,{variant:"body2",fontWeight:"700",children:G})})]})]}),(0,C.jsx)(s.Z,{size:"medium",disabled:n,sx:{display:"table",m:{xs:"16px 0 0",md:"24px auto 0"},width:{xs:"100%",md:"fit-content"}},onClick:function(){gt.level_anket?"agent"===gt.business_status?L(!0):(i(!0),y((0,E.LV)({products:null===mt||void 0===mt?void 0:mt.map((function(t){return{product_id:t.product_variations.id,product_count:t.product_count}}))}))):ct(!0)},color:"primary",variant:"contained",children:e("makeOrder")})]})]}),(0,C.jsx)(u.Z,{TransitionComponent:P,open:st,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return ct(!1)},children:(0,C.jsxs)(p.Z,{severity:"error",variant:"filled",children:["\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0430\u043d\u043a\u0435\u0442\u0443"," "]})})]})})]})};function P(t){return(0,C.jsx)(c.Z,(0,n.Z)((0,n.Z)({},t),{},{direction:"down"}))}},8487:function(t,e,i){t.exports=i.p+"static/media/none-res.b379eb38c5a79bc82b1d.png"}}]);
//# sourceMappingURL=130.cc861b53.chunk.js.map