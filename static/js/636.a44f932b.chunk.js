"use strict";(self.webpackChunkcheberel=self.webpackChunkcheberel||[]).push([[636],{9636:function(e,n,t){t.r(n);var o=t(9439),i=t(2791),r=t(5193),s=t(9818),a=t(890),l=t(5466),c=t(3466),d=t(3400),u=t(6151),p=t(1363),h=t(9434),m=t(418),x=t(9276),f=t(1625),v=t(9481),g=t(6871),b=t(6298),j=t(3654),C=t(9396),Z=t(7881),y=t.n(Z),w=t(6163),k=t(5066),S=t(3567),W=t(184);n.default=function(e){var n=e.setLoading,t=e.t,Z=(0,h.I0)(),I=(0,g.s0)(),E=(0,g.TH)(),z=(0,m.Z)(),R=(0,r.Z)(z.breakpoints.down(768)),T=(0,i.useState)(!1),A=(0,o.Z)(T,2),M=A[0],O=A[1],D=(0,i.useState)(!0),F=(0,o.Z)(D,2),G=F[0],L=F[1],N=(0,h.v9)((function(e){return e.auth})),P=N.login,q=N.loginDialog,V=(0,b.TA)({initialValues:{phone:"",password:""},onSubmit:function(e){n(!0),e.phone=e.phone.replace(/[\s+().,-]/g,""),y().set("phone",e.phone),Z((0,v.SV)(e))}}),B=(0,i.useRef)(!0);return(0,i.useEffect)((function(){Z((0,v.e8)(!0))}),[]),(0,i.useLayoutEffect)((function(){B.current?B.current=!1:(n(!1),200==(null===P||void 0===P?void 0:P.severity)?setTimeout((function(){Z((0,v.e8)(!1)),E.search?I("".concat(E.search.split("=")[1])):I(R?"/dashboard/profile":"/dashboard/profile/orders"),C.eE.defaults.headers.Authorization="Bearer ".concat(null===P||void 0===P?void 0:P.message.tokens.access),y().set("token",null===P||void 0===P?void 0:P.message.tokens.access,{expires:7}),Z((0,w.$y)()),Z((0,S._G)())}),1e3):"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d"===(null===P||void 0===P?void 0:P.message.detail)&&q&&(localStorage.setItem("activation",!0),Z((0,v.xL)(!0))))}),[P]),(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(j.Z,{txt:"\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u0432\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443",state:P,setState:v.R9}),(0,W.jsx)(s.Z,{sx:{"& .MuiDialog-container":{alignItems:{xs:"end",md:"center"}},"& .MuiDialog-paper":{minWidth:{xs:"100%",md:420},m:{xs:"0",md:3},p:3,borderRadius:{xs:"16px 16px 0 0",md:2},position:"relative"},"& .MuiFormControl-root":{boxShadow:"none!important",borderRadius:8,"& .MuiOutlinedInput-notchedOutline":{borderColor:"#CECECE"}}},open:q,onClose:function(){Z((0,v.e8)(!1)),E.search?I("".concat(E.search.split("=")[1])):I("/")},children:(0,W.jsxs)(x.Z,{component:"form",width:"100%",action:"",onSubmit:V.handleSubmit,children:[(0,W.jsx)(a.Z,{variant:"h6",mb:3,fontWeight:"700",textAlign:"center",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),(0,W.jsxs)(a.Z,{fontSize:"12px",color:"#000",textTransform:"uppercase",mb:1,fontWeight:"400",children:[t("phoneNumber")," "]}),(0,W.jsx)(l.Z,{required:!0,id:"+996 (000) 00 00 00",InputProps:{inputComponent:k.n},autoComplete:"phone",fullWidth:!0,name:"phone",onChange:V.handleChange,value:V.values.phone}),(0,W.jsx)(a.Z,{fontSize:"12px",color:"#000",textTransform:"uppercase",mt:3,mb:1,fontWeight:"400",children:t("password")}),(0,W.jsx)(l.Z,{required:!0,autoComplete:"current-password",name:"password",onChange:V.handleChange,value:V.values.password,fullWidth:!0,type:M?"text":"password",InputProps:{endAdornment:(0,W.jsx)(c.Z,{position:"end",onClick:function(){return O(!M)},children:M?(0,W.jsx)(p.G,{icon:"eye",color:"var(--primary)"}):(0,W.jsx)(p.G,{icon:"eye-slash",color:"var(--primary)"})})}}),(0,W.jsxs)(x.Z,{display:"flex",mt:5,alignItems:"center",justifyContent:"space-between",children:[(0,W.jsx)("div",{className:"text-btn",children:(0,W.jsx)(a.Z,{variant:"subtitle2",onClick:function(){Z((0,v.Iy)(!0))},color:"primary",component:"h6",fontWeight:"400",children:t("forgotPassword")})}),(0,W.jsxs)("div",{className:"d-flex",style:{userSelect:"none",cursor:"pointer"},onClick:function(){return L(!G)},children:[(0,W.jsx)(a.Z,{variant:"subtitle2",component:"p",mr:1,fontWeight:"400",children:t("savee")}),(0,W.jsx)(d.Z,{children:G?(0,W.jsx)(f.Fr,{}):(0,W.jsx)(f.Ol,{})})]})]}),(0,W.jsx)(x.Z,{display:"flex",mb:2,mt:3,flexWrap:"nowrap",children:(0,W.jsx)(u.Z,{type:"submit",size:"medium",color:"primary",fullWidth:!0,variant:"contained",children:t("enter")})}),(0,W.jsx)(u.Z,{size:"medium",onClick:function(){Z((0,v.OR)(!0)),Z((0,v.e8)(!1))},color:"inherit",variant:"contained",fullWidth:!0,children:t("reg")})]})})]})}}}]);
//# sourceMappingURL=636.a44f932b.chunk.js.map